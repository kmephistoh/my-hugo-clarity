{{ define "main" }}
<section class="grid-inverse wrap content" style="height: auto !important;">
    <div class="post_content">

        {{ $type := .Type }}
        {{ $.Scratch.Set "count" 1 }}

        {{ range (.Site.RegularPages.GroupByDate "2006") }}
        {{ if and (gt .Key 1) (gt (where .Pages "Type" $type) 0) }}

        {{ range (where .Pages "Type" $type) }}
        {{ if (eq ($.Scratch.Get "count") 1) }}
        {{ $.Scratch.Set "count" 0 }}
        <h3>{{ .Date.Format "2006" }}</h3>
        {{ end }}
        {{ end }}

        {{ $.Scratch.Set "count" 1 }}

        <ul class="article__list">
            {{ range (where .Pages "Type" $type) }}
            {{ if (ne .Params.hidden true) }}
            <li>
                {{ .Date.Format "2006-01-02" }}
                <a href="{{ .RelPermalink }}"> &nbsp {{ .Title }}</font></a>
            </li>
            {{ end }}
            {{ end }}
        </ul>

        {{ end }}
        {{ end }}
    </div>
</section>
{{ end }}